product-id: 999
comment: GeoGuessr-style Tiptoi game
init: $current_country := 0 $game_active := 0
welcome: start_game
scripts:

  start_game:
  - P(welcome_message)
  - $current_country := 2 # randomly selects 0 or 1
  - $current_country == 0? P(hint_france)
  - $current_country == 1? P(hint_japan)
  - $game_active := 1
  - P(make_your_guess)

  france_guess:
  - $game_active == 0? J(start_game)
  - $current_country == 0? P(correct_france) J(new_round)
  - P(wrong_try_again)

  japan_guess:
  - $game_active == 0? J(start_game)
  - $current_country == 1? P(correct_japan) J(new_round)
  - P(wrong_try_again)

  new_round:
  - P(next_round)
  - $current_country := 2 # randomly selects 0 or 1
  - $current_country == 0? P(hint_france)
  - $current_country == 1? P(hint_japan)
  - $game_active := 1
  - P(make_your_guess)

speak:
  9: france_guess
  10: japan_guess